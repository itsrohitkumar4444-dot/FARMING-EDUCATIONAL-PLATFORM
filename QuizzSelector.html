<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GreenFarm</title>

  <style>
    body { margin: 0; font-family: Arial, Helvetica, sans-serif; background: #e3efe7; min-height: 100vh; }

    /* NAVBAR */
    .navbar {
      width: 100%;
      background: #fff;
      color: #1f3d2b;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 18px 60px;
      box-sizing: border-box;
      position: fixed;
      top: 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .nav-left { font-size: 22px; font-weight: bold; color: #1f3d2b; }

    .nav-right { display: flex; gap: 25px; align-items: center; font-size: 14px; }

    .nav-pill {
      background: #cfe7d7;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: bold;
      color: #2f8f57;
    }

    /* Farmer Profile Button Style */
    .nav-btn {
      background: #2f8f57;
      color: white;
      padding: 10px 18px;
      border-radius: 25px;
      font-weight: 500;
      cursor: pointer;
      transition: 0.25s;
    }

    .nav-btn:hover {
      background: #1f6b42;
      transform: translateY(-1px);
    }

    .container { 
      width: 100%; 
      min-height: calc(100vh - 76px); 
      background: #dbe8df; 
      padding: 100px 60px 40px; 
      box-sizing: border-box; 
      text-align: center; 
    }

    h1 { color: #1a2e23; font-size: 36px; }
    p { color: #4d6b5a; font-size: 18px; line-height: 1.6; }

    .quiz-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 25px; margin-top: 30px; }

    .quiz-card { 
      background: #f3f6f4; 
      padding: 30px; 
      border-radius: 18px; 
      cursor: pointer; 
      transition: 0.3s; 
      display: flex; 
      flex-direction: column; 
      justify-content: space-between; 
      min-height: 200px;
      border: 1px solid #c9dbd0;
    }
    
    .quiz-card:hover { 
      transform: translateY(-8px); 
      box-shadow: 0 10px 18px rgba(0,0,0,0.08);
    }

    .quiz-title { font-size: 22px; font-weight: bold; color: #1a2e23; }
    .quiz-desc { font-size: 16px; color: #5a7b69; margin-top: 10px; line-height: 1.5; }

    .quiz-bottom { 
      margin-top: 25px; 
      display: flex; 
      justify-content: space-between; 
      background: #d7efe1; 
      padding: 10px 14px; 
      border-radius: 12px; 
      font-weight: bold; 
      color: #2f8f57; 
    }

    .hidden { display: none; }

    .mode-container { 
      max-width: 900px; 
      margin: auto; 
      background: #f3f6f4; 
      padding: 30px; 
      border-radius: 18px;
      border: 1px solid #c9dbd0;
    }

    .question-box { 
      background: #d7efe1; 
      padding: 20px; 
      border-radius: 15px; 
      margin-top: 20px; 
    }

    .option-btn { 
      display: block; 
      width: 100%; 
      padding: 12px; 
      margin-top: 10px; 
      border: none; 
      border-radius: 10px; 
      background: #2f8f57; 
      color: white; 
      cursor: pointer;
      font-weight: 500;
      transition: 0.3s;
    }
    
    .option-btn:hover { 
      background: #1f6b42; 
    }

    .btn { 
      margin-top: 20px; 
      padding: 14px 28px; 
      border: none; 
      border-radius: 30px; 
      background: #2f8f57; 
      color: white; 
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    
    .btn:hover {
      background: #1f6b42;
    }

    .timer { 
      font-size: 22px; 
      font-weight: bold; 
      color: #c53030; 
      margin-top: 15px; 
    }

    .section-tag {
      color: #2f8f57;
      font-weight: bold;
      letter-spacing: 2px;
      margin-bottom: 10px;
    }

  </style>
</head>
<body>

  <!-- NAVBAR -->
  <div class="navbar">
    <div class="nav-left">üå± GreenFarm Quizzes</div>
    <div class="nav-right">
      <div class="nav-btn">üë§ Farmer Profile</div>
      <div class="nav-pill">‚≠ê Score: <span id="navScore">220</span></div>
      <div class="nav-pill">üèÖ Badges: <span id="navBadges">2</span></div>
    </div>
  </div>


  <!-- SELECTION PAGE -->
  <div class="container" id="selectionPage">
    <div class="section-tag">LEARN AND GROW</div>
    <h1>Quize Hub</h1>
    <p>From Seed to Success. Prove you have what it takes to feed the world.</p>

    <div class="quiz-list">

      <div class="quiz-card"xonclick="openMode('disaster')">
        <div><div class="quiz-title">Disaster Survival</div><div class="quiz-desc">Timed crisis decisions</div></div>
        <div class="quiz-bottom"><div>Timed Mode</div><div>Score: 150</div></div>
      </div>

      <div class="quiz-card" onclick="openMode('detective')">
        <div><div class="quiz-title">Agri Detective</div><div class="quiz-desc">Identify plant problems</div></div>
        <div class="quiz-bottom"><div>Image Mode</div><div>Score: 180</div></div>
      </div>

      <div class="quiz-card" onclick="openMode('crop')">
        <div><div class="quiz-title">Crop Cycle</div><div class="quiz-desc">Seasonal crops quiz</div></div>
        <div class="quiz-bottom"><div>Quiz Mode</div><div>Score: 120</div></div>
      </div>

      <div class="quiz-card" onclick="openMode('soil')">
        <div><div class="quiz-title">Soil & Tools</div><div class="quiz-desc">Soil and equipment knowledge</div></div>
        <div class="quiz-bottom"><div>Knowledge Mode</div><div>Score: 140</div></div>
      </div>

      <div class="quiz-card" onclick="openMode('climate')">
        <div><div class="quiz-title">Climate Smart</div><div class="quiz-desc">Weather based decisions</div></div>
        <div class="quiz-bottom"><div>Strategy Mode</div><div>Score: 160</div></div>
      </div>

      <div class="quiz-card" onclick="openMode('organic')">
        <div><div class="quiz-title">Organic Certification</div><div class="quiz-desc">Authority level test</div></div>
        <div class="quiz-bottom"><div>Exam Mode</div><div>Score: 200</div></div>
      </div>

      <!-- Random Quiz Card 1 -->
      <div class="quiz-card" onclick="openMode('water')">
        <div>
          <div class="quiz-title">Water Management Pro</div>
          <div class="quiz-desc">Test smart irrigation and water saving decisions.</div>
        </div>
        <div class="quiz-bottom"><div>Decision Mode</div><div>Score: 130</div></div>
      </div>

      <!-- Random Quiz Card 2 -->
      <div class="quiz-card" onclick="openMode('pest')">
        <div>
          <div class="quiz-title">Pest Control Strategist</div>
          <div class="quiz-desc">Choose the best eco-friendly pest control methods.</div>
        </div>
        <div class="quiz-bottom"><div>Strategy Mode</div><div>Score: 170</div></div>
      </div>

    </div>
  </div>


  <!-- MODE PAGE -->
  <div class="container hidden" id="modePage">
    <div class="mode-container">
      <h1 id="modeTitle"></h1>
      <p id="modeDesc"></p>

      <div class="timer" id="timerBox"></div>

      <div class="question-box">
        <h3 id="questionText"></h3>
        <div id="optionsArea"></div>
      </div>

      <button class="btn" onclick="backHome()">Back to Quizzes</button>
    </div>
  </div>


  <script>

    let timerInterval;
    let timeLeft = 15;
    let userScore = 220;
    let userBadges = 10;

    const disasterQuiz = [
      {
        q: "Locust attack predicted. What do you do?",
        options: ["Early Harvest", "Ignore Warning", "Do Nothing", "Overwater Fields"],
        correct: 0
      },
      {
        q: "Heavy unseasonal rain forecast. What is best action?",
        options: ["Cover Crop Storage", "Leave Crop Open", "Increase Irrigation", "Add Fertilizer"],
        correct: 0
      }
    ];

    let disasterIndex = 0;

    const modes = {
      disaster: { title: "Disaster Survival Mode", desc: "Answer fast before time runs out!" },
      detective: { title: "Agri Detective Mode", desc: "Identify plant deficiency." },
      crop: { title: "Crop Cycle Mode", desc: "Crop season knowledge." },
      soil: { title: "Soil Knowledge Mode", desc: "Soil type knowledge." },
      climate: { title: "Climate Smart Mode", desc: "Climate decisions." },
      organic: { title: "Organic Certification Mode", desc: "Organic standards." },
      water: { title: "Water Management Mode", desc: "Smart irrigation and water conservation decisions." },
      pest: { title: "Pest Control Strategy Mode", desc: "Eco-friendly pest control choices." }
    };

    function updateNav() {
      document.getElementById("navScore").innerText = userScore;
      document.getElementById("navBadges").innerText = userBadges;
    }

    function startTimer() {
      clearInterval(timerInterval);
      timeLeft = 15;
      document.getElementById("timerBox").innerText = "Time Left: " + timeLeft + "s";

      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById("timerBox").innerText = "Time Left: " + timeLeft + "s";
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          nextDisasterQuestion();
        }
      }, 1000);
    }

    function loadDisasterQuestion() {
      const q = disasterQuiz[disasterIndex];
      document.getElementById("questionText").innerText = q.q;
      const area = document.getElementById("optionsArea");
      area.innerHTML = "";

      q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.innerText = opt;
        btn.onclick = () => {
          clearInterval(timerInterval);
          if (i === q.correct) userScore += 50;
          nextDisasterQuestion();
          updateNav();
        };
        area.appendChild(btn);
      });

      startTimer();
    }

    function nextDisasterQuestion() {
      disasterIndex++;
      if (disasterIndex >= disasterQuiz.length) {
        document.getElementById("questionText").innerText = "Disaster Mode Completed!";
        document.getElementById("optionsArea").innerHTML = "";
        document.getElementById("timerBox").innerText = "";
        userBadges += 1;
        updateNav();
      } else {
        loadDisasterQuestion();
      }
    }

    function openMode(mode) {
      if (!modes[mode]) {
        console.error("Mode not found:", mode);
        alert("This mode is not available yet.");
        return;
      }

      document.getElementById("selectionPage").classList.add("hidden");
      document.getElementById("modePage").classList.remove("hidden");

      document.getElementById("modeTitle").innerText = modes[mode].title;
      document.getElementById("modeDesc").innerText = modes[mode].desc;

      disasterIndex = 0;

      if (mode === "disaster") loadDisasterQuestion();
      else {
        document.getElementById("timerBox").innerText = "";
        document.getElementById("questionText").innerText = "Mode content coming soon.";
        document.getElementById("optionsArea").innerHTML = "";
      }
    }

    function backHome() {
      clearInterval(timerInterval);
      document.getElementById("modePage").classList.add("hidden");
      document.getElementById("selectionPage").classList.remove("hidden");
    }

    console.assert(modes.disaster.title !== undefined, "Disaster mode missing");
    console.assert(modes.water.title !== undefined, "Water mode missing");
    console.assert(modes.pest.title !== undefined, "Pest mode missing");

    updateNav();

  </script>

</body>
</html>